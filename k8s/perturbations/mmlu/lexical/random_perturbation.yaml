apiVersion: batch/v1
kind: Job
metadata:
    name: mmlu-lexical-random-perturbation
spec:
    template:
        metadata:
            labels:
                app: mmlu-lexical-random-perturbation
        spec:
            restartPolicy: Never
            imagePullSecrets:
            - name: private-registry-auth
            containers:
            - name: mmlu-lexical-random-perturbation
            image: registry.datexis.com/bdarabisahneh/llm-prompt-perturbation:latest
            command: ["python"]
            args: ["-u", "/llm_prompt_perturbation/src/perturbations/mmlu/lexical/random_perturbation.py"]
            env:
            - name: PLACEHOLDER
              value: "placeholder"
            - name: PYTHONUNBUFFERED
              value: "1"
            volumeMounts:
            - name: perturbation-experiments-pvc
              mountPath: /experiments
        volumes:
        - name: perturbation-experiments-pvc
          persistentVolumeClaim:
            claimName: perturbation-experiments-pvc
